"use strict";(self["webpackChunkbilling"]=self["webpackChunkbilling"]||[]).push([[767],{3745:function(e,t,a){a.d(t,{O:function(){return c}});var n=a(3478),l=a(6541),s=a(3396),o=a(5743),u=a.n(o),r=a(670);function c(e,t){const a=()=>{const e=e=>""===e?(0,r.Z)({message:"月份不能为空",type:"error"}):null!==e?!/^\d{2}$/.test(e)&&!/^\d$/.test(e)||parseInt(e)>12?(0,r.Z)({message:"只能输入1-12的数字",type:"error"}):void(t.value=parseInt(e)):void 0;(0,l.Z)({ok:e,header:"请输入查询的月份："})},o=()=>{const t=t=>""===t?(0,r.Z)({message:"年份不能为空",type:"error"}):null!==t?/^\d{4}$/.test(t)?void(e.value=parseInt(t)):(0,r.Z)({message:"只能输入4个数字",type:"error"}):void 0;(0,l.Z)({ok:t,header:"请输入查询的年份："})},c=(0,s.Fl)((()=>(0,n.Z)("month")?.filter((a=>u()(a.createAt).year()===e.value&&u()(a.createAt).month()===t.value-1))||[])),i=(0,s.Fl)((()=>0===c.value.length?0:c.value.reduce(((e,t)=>e+t.sum),0))),m=(0,s.Fl)((()=>0===c.value.length?"暂无":c.value.reduce(((e,t)=>e+t.expend),0))),d=(0,s.Fl)((()=>0===c.value.length?"暂无":c.value.reduce(((e,t)=>e+t.income),0)));return{monthSum:i,monthExpend:m,monthIncome:d,toggleYear:o,toggleMonth:a,monthGroupList:c}}},6096:function(e,t,a){a.r(t),a.d(t,{default:function(){return C}});a(7658);var n=a(3396),l=a(4870),s=a(7139),o=a(5103),u=a(2074),r=a(3478),c=a(5743),i=a.n(c),m=a(2483),d=a(65),v=a(3745);const p=e=>((0,n.dD)("data-v-42a0cc80"),e=e(),(0,n.Cn)(),e),g={class:"nav"},h={class:"details-content"},y={class:"details"},_={class:"top"},w=p((()=>(0,n._)("span",{class:"title"},"收支记录",-1))),k={class:"content"},f={class:"title"},U={class:"sum"},S={class:"icon-wrapper"},Z={class:"details-info"},D={class:"category-sum"},I={key:0},A={class:"note"},x={key:1,class:"no-show"};var z=(0,n.aZ)({__name:"Details",setup(e){const t=(0,m.yj)(),a=(0,d.oR)(),c=(0,m.tv)(),p=t.query.year,z=t.query.month,F=(0,l.iH)(parseInt(p)||i()().year()),b=(0,l.iH)(parseInt(z)||i()().month()+1),{toggleMonth:C,toggleYear:H,monthSum:Y,monthExpend:$,monthIncome:M}=(0,v.O)(F,b),W=()=>c.push({name:"billing"}),q=(0,n.Fl)((()=>a.state.categoryList)),E=(0,n.Fl)((()=>{const e=(0,n.Fl)((()=>(0,r.Z)("day")?.filter((e=>i()(e.createAt).year()===F.value&&i()(e.createAt).month()===b.value-1))||[]));let t=[];for(let a=0;a<e.value.length;a++)t[a]={createAt:e.value[a].createAt,expend:e.value[a].expend,income:e.value[a].income,sum:e.value[a].sum,items:[...e.value[a].exItems,...e.value[a].inItems]};return t})),K=e=>q.value.filter((t=>t.category===e))[0].iconName;return(e,t)=>{const a=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",g,[(0,n.Wm)(o.Z,{name:"left",onClick:W}),(0,n._)("button",null,[(0,n._)("span",{class:"year",onClick:t[0]||(t[0]=(...e)=>(0,l.SU)(H)&&(0,l.SU)(H)(...e))},(0,s.zw)(F.value),1),(0,n.Uk)("年 "),(0,n._)("span",{class:"month",onClick:t[1]||(t[1]=(...e)=>(0,l.SU)(C)&&(0,l.SU)(C)(...e))},(0,s.zw)(b.value),1),(0,n.Uk)("月的账单 ")])]),(0,n._)("div",h,[(0,n.Wm)(u.Z,{class:"list-top","top-title":`${F.value}年${b.value}月账本`,type:"月",sum:(0,l.SU)(Y),expend:(0,l.SU)($),income:(0,l.SU)(M)},null,8,["top-title","sum","expend","income"]),(0,n._)("div",y,[(0,n._)("div",_,[w,(0,n.Wm)(a,{to:{name:"money"},class:"add"},{default:(0,n.w5)((()=>[(0,n.Uk)("+ 新建")])),_:1})]),(0,n._)("div",k,[(0,l.SU)(E).length>0?((0,n.wg)(!0),(0,n.iD)(n.HY,{key:0},(0,n.Ko)((0,l.SU)(E),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"item",key:e.createAt},[(0,n._)("div",f,[(0,n._)("span",null,(0,s.zw)((0,l.SU)(i())(e.createAt).format("MM.DD")),1),(0,n._)("span",null,(0,s.zw)((0,l.SU)(i())(e.createAt).format("dddd")),1),(0,n._)("span",U,"总结：￥"+(0,s.zw)(e.sum),1)]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.items,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"detail",key:t},[(0,n._)("div",S,[(0,n.Wm)(o.Z,{name:K(e.category)},null,8,["name"])]),(0,n._)("div",Z,[(0,n._)("div",D,[(0,n._)("span",null,(0,s.zw)(e.category),1),(0,n._)("span",null,["-"===e.type?((0,n.wg)(),(0,n.iD)("span",I,"-")):(0,n.kq)("",!0),(0,n._)("span",null,"￥"+(0,s.zw)(e.account),1)])]),(0,n._)("div",A,(0,s.zw)(e.note),1)])])))),128))])))),128)):((0,n.wg)(),(0,n.iD)("div",x,"暂无记录~~~"))])])])],64)}}}),F=a(89);const b=(0,F.Z)(z,[["__scopeId","data-v-42a0cc80"]]);var C=b}}]);
//# sourceMappingURL=details.2ad12428.js.map